# Tablerreur â€” Generic base template
# Apply to any CSV/XLSX file as a starting point.
version: 1
name: generic

# -----------------------------------------------------------------------
# Global rules (apply to all columns unless overridden)
# -----------------------------------------------------------------------
rules:
  generic.hygiene.leading_trailing_space:
    enabled: true
    severity: WARNING

  generic.hygiene.multiple_spaces:
    enabled: true
    severity: WARNING

  generic.hygiene.unicode_chars:
    enabled: true
    severity: SUSPICION

  generic.hygiene.invisible_chars:
    enabled: true
    severity: WARNING

  generic.pseudo_missing:
    enabled: true
    severity: WARNING
    tokens: [NA, N/A, NULL, null, n/a, na, "-", "?", none, None, "#N/A"]

  generic.duplicate_rows:
    enabled: true
    severity: WARNING

  generic.unique_column:
    enabled: true
    severity: ERROR

  generic.soft_typing:
    enabled: true
    severity: SUSPICION
    min_count: 30
    threshold: 0.95

  generic.rare_values:
    enabled: true
    severity: SUSPICION
    max_distinct: 50
    max_ratio: 0.2

  generic.similar_values:
    enabled: true
    severity: SUSPICION
    threshold: 90
    max_distinct: 200

  generic.unexpected_multiline:
    enabled: true
    severity: WARNING

# -----------------------------------------------------------------------
# Column-group patterns (glob)
# These patterns are matched against actual column names.
# -----------------------------------------------------------------------
column_groups:
  "id_*":
    unique: true
    required: true
    kind: structured

  "date_*":
    kind: structured

  "desc*":
    multiline_ok: true
    kind: free_text_long

  "description*":
    multiline_ok: true
    kind: free_text_long

# -----------------------------------------------------------------------
# Wildcard defaults (applied to ALL columns)
# -----------------------------------------------------------------------
columns:
  "*":
    kind: free_text_short
    required: false
    unique: false
    multiline_ok: false

# -----------------------------------------------------------------------
# Export policy
# -----------------------------------------------------------------------
export:
  csv_delimiter: ";"
  csv_encoding: utf-8
  csv_bom: false
  multivalues_mode: in_cell   # or: expanded
  list_separator: "|"
